struct xeliminate_testcase {
	char* description;
	unsigned char num_lines;
	unsigned char line_len[9];
	unsigned char data[9][61];
	unsigned char recovery_ok;
	unsigned char recovers_to[16];
};

struct xeliminate_testcase xeliminate_testcases[] = {
	{
		.description = "17:28 -> 17:29 eliminates correctly",
		.num_lines = 2,
		.line_len = { 60, 60 },
		.data = {
			/* 13.04.19 17:28 */
			{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
			/* 17:29 */
			{0,1,0,1,1,1,0,1,1,0,1,0,1,1,1,0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
		},
		.recovery_ok = 1,
		.recovers_to = {0xee,0xef,0xbb,0xbf,0xae,0xaf,0xbb,0xff,0xae,0xaf,0xeb,0xeb,0xba,0xbe,0x7a},
	},
	{
		.description = "17:29 -> 17:30 fails to eliminate",
		.num_lines = 2,
		.line_len = { 60, 60 },
		.data = {
			/* 13.04.19 17:29 */
			{0,1,0,1,1,1,0,1,1,0,1,0,1,1,1,0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
			/* 17:30 */
			{0,1,0,0,0,1,1,1,0,1,1,1,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,3,3,3,3,3,3,3,3},
		},
		.recovery_ok = 0,
	},
	{
		.description = "17:28 -> 17:29 recover noisy telegram",
		.num_lines = 2,
		.line_len = { 60, 60 },
		.data = {
			/* 13.04.19 17:28 */
			{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
			/* 17:29 */
			{0,1,0,1,1,1,0,1,1,0,1,0,1,1,1,0,0,1,0,0,1,1,0,0,1,0,1,0,1,1,1,1,0,1,0,3,3,3,3,3,3,3,3,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
		},
		.recovery_ok = 1,
		.recovers_to = {0xee,0xef,0xbb,0xbf,0xae,0xaf,0xbb,0xff,0xae,0xaf,0xeb,0xeb,0xba,0xbe,0x7a},
	},
	{
		.description = "17:28 -> 17:29 recover summertime bit 17 from 18",
		.num_lines = 2,
		.line_len = { 60, 60 },
		.data = {
			/* 13.04.19 17:28 */
			{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
			/* 17:29 bit 17 defunct */
			{0,1,0,1,1,1,0,1,1,0,1,0,1,1,1,0,0,3,0,0,1,1,0,0,1,0,1,0,1,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
		},
		.recovery_ok = 1,
		.recovers_to = {0xee,0xef,0xbb,0xbf,0xae,0xaf,0xbb,0xff,0xae,0xaf,0xeb,0xeb,0xba,0xbe,0x7a},
	},
	{
		.description = "17:28 -> 17:29 recover summertime bit 18 from 17",
		.num_lines = 2,
		.line_len = { 60, 60 },
		.data = {
			/* 13.04.19 17:28 */
			{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
			/* 17:29 bit 18 defunct */
			{0,1,0,1,1,1,0,1,1,0,1,0,1,1,1,0,0,1,3,0,1,1,0,0,1,0,1,0,1,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
		},
		.recovery_ok = 1,
		.recovers_to = {0xee,0xef,0xbb,0xbf,0xae,0xaf,0xbb,0xff,0xae,0xaf,0xeb,0xeb,0xba,0xbe,0x7a},
	},
	{
		.description = "17:28 -> 17:29 summertime recovery fails if both defunct",
		.num_lines = 2,
		.line_len = { 60, 60 },
		.data = {
			/* 13.04.19 17:28 */
			{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
			/* 17:29 bits 17+18 defunct */
			{0,1,0,1,1,1,0,1,1,0,1,0,1,1,1,0,0,3,3,0,1,1,0,0,1,0,1,0,1,1,1,1,0,1,0,0,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3},
		},
		.recovery_ok = 1,
		.recovers_to = {0xee,0xef,0xbb,0xbf,0x96,0xaf,0xbb,0xff,0xae,0xaf,0xeb,0xeb,0xba,0xbe,0x7a},
	},
	/*
		https://www.dcf77logs.de/live  22.04.2019
		22:50 {0,1,1,0,1,1,0,1,1,1,0,1,1,1,1,0,0,1,0,0,1,0,0,0,0,1,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,}
		22:51 {0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,0,0,1,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,}
		22:52 {0,0,0,1,1,0,1,1,0,1,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,}
		22:53 {0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,1,1,0,0,1,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,}
	*/
	{
		.description = "22:41 -> 22:49 complete correct entries recover to latest entry",
		.num_lines = 9,
		.line_len = { 60, 60, 60,  60, 60, 60,  60, 60, 60 },
		.data = {
			/* 22.04.19 22:41 */
			{0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,1,0,1,1,1,0,1,1,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,0,1,1,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,0,1,1,1,0,0,0,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,0,1,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,0,0,1,0,1,1,1,1,1,1,1,0,0,1,0,0,1,0,0,1,1,0,1,0,0,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,0,1,0,1,0,1,1,0,0,1,0,1,1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			{0,1,1,0,0,0,1,1,1,1,0,0,0,1,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
			/* 22.04.19 22:49 */
			{0,0,1,1,1,0,0,1,0,1,0,1,0,1,0,0,0,1,0,0,1,1,0,0,1,0,0,1,1,0,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,0,0,1,0,0,1,0,0,1,1,0,0,0,1,3,},
		},
		.recovery_ok = 1,
		.recovers_to = {0xfa,0xeb,0xee,0xae,0xae,0xaf,0xeb,0xbb,0xba,0xae,0xbe,0xea,0xba,0xbe,0x7a},
	},
	{
		.description = "22:41 -> 22:49 noisy entries recover to full entry",
		.num_lines = 9,
		.line_len = { 60, 60, 60,  60, 60, 60,  60, 60, 60 },
		.data = {
			/*
			 * 22.04.19 22:41 all weather information deleted.
			 *
			 * also each message has only six bits which still
			 * allows for the recovery of datetime information
			 * over the course of ten minutes
			 */
			{2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,1,0,0,3,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,1,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,1,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,1,1,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,1,0,0,1,0,3,3,3,3,3,3,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,1,1,0,0,0,3,3,},
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,3,},
			/* 22.04.19 22:49 highly distorted (everything lost except for minute ones bits) */
			{3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,0,0,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,},
		},
		.recovery_ok = 1,
		.recovers_to = {0x56,0x55,0x55,0x55,0x6e,0xaf,0xeb,0xb9,0xba,0xae,0xbe,0xea,0xba,0xbe,0x7a},
	},
	/* TODO CSTAT THIS TEST CASE FAILS OF SORTS BECAUSE IT INTERMITTENTLY OUTPUTS AN ENTIRELY USELESS TELEGRMA (WITH ONLY 55 and two constants fixed?) -> should find out why this is the case. Note that this test case involves resetting as first minutes w/ leap seconds are simplified over. It might thus be rewarding to create the missing test case which is from like 01:58 to 02:02 and has the leap second in the middle! */
	{
		.description = "02:00 -> 02:02 leap second",
		.num_lines = 3,
		.line_len = { 61, 60, 60, },
		.data = {
			/* 01.07.12 02:00 w/ leap second */
			{0,0,0,0,1,1,0,1,1,1,1,1,1,0,1,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,0,0,1,0,0,0,1,0,3,},
			/* 02:01 */
			{0,0,1,0,0,1,0,1,0,1,1,1,1,0,1,0,0,1,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,0,0,1,0,0,0,1,3,},
			/* 02:02 */
			{0,0,1,0,0,1,1,1,0,0,1,1,1,0,1,0,0,1,0,0,1,0,1,0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,0,0,1,0,0,0,1,3,},
		},
		.recovery_ok = 1,
		.recovers_to = {0xba,0xfe,0xfa,0xbb,0xae,0xbb,0xaa,0xbb,0xea,0xab,0xfa,0xff,0xea,0xba,0x7a},
	},
	/* TODO z Test cases for leap seconds (make them appear in the middle of the array once and then be done with it...) */
};

